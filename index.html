<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale: 1.0">
    <title>لعبة الصيد</title>
    <style>
        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            text-align: center;
            background-color: #87ceeb; /* لون السماء */
            overflow: hidden;
        }
        #fishingArea {
            width: 600px;
            height: 400px;
            background-color: #00bfff; /* لون البحر الأصلي */
            position: relative;
            margin: auto;
            border: 2px solid #000;
            overflow: hidden;
            animation: waterWave 2s linear infinite; /* إضافة حركة للماء */
        }
        @keyframes waterWave {
            0% { background-position: 0 0; }
            100% { background-position: 100% 0; }
        }
        .fish {
            position: absolute;
            width: 50px;
            height: 30px;
            background-size: cover;
            transition: transform 0.2s;
        }
        .rod {
            position: absolute;
            width: 5px;
            height: 100px;
            background-color: #654321; /* لون السنارة */
            left: 50%;
            bottom: 0;
            transform: translateX(-50%);
        }
        .score {
            font-size: 24px;
            margin-top: 20px;
        }
        .shop {
            margin-top: 20px;
        }
        .shop-item {
            display: inline-block;
            margin: 10px;
            width: 50px;
            height: 50px;
            cursor: pointer;
            border: 2px solid #000;
        }
    </style>
</head>
<body>
    <h1>لعبة الصيد</h1>
    <h2>لعبة لريومتي وبس</h2> <!-- إضافة الجملة هنا -->
    <div id="fishingArea">
        <div class="rod" id="rod"></div>
        <!-- الأسماك ستضاف هنا -->
    </div>
    <div class="score" id="score">النقاط: 0</div>
    <div class="score" id="money">الفلوس: 0</div>
    <button onclick="askQuestion()">ابدأ اللعبة</button>

    <div class="shop">
        <h2>المتجر</h2>
        <div id="shopContainer"></div>
    </div>

    <audio id="catchSound" src="https://www.soundjay.com/human/sounds/catch-1.mp3" preload="auto"></audio>
    <audio id="purchaseSound" src="https://www.soundjay.com/button/sounds/button-1.mp3" preload="auto"></audio>
    <audio id="backgroundMusic" src="https://sendgb.com/lke3c9ixobY" preload="auto" loop></audio> <!-- تم إضافة الرابط الجديد هنا -->
    <audio id="clapSound" src="https://www.soundjay.com/human/sounds/applause-8.mp3" preload="auto"></audio>
    <audio id="laughSound" src="https://www.soundjay.com/human/sounds/laugh-4.mp3" preload="auto"></audio>

    <script>
        let score = 0;
        let money = 0;
        let currentRodColorIndex = 0; // مؤشر لون السنارة الحالية
        const fishingArea = document.getElementById('fishingArea');
        const rod = document.getElementById('rod');
        const shopContainer = document.getElementById('shopContainer');

        const rodColors = ['#FFFF00', '#32CD32', '#FF0000', '#0000FF', '#000000', '#FFFFFF', '#FFA500', '#FF69B4', '#FFC0CB', '#FFD700'];

        function askQuestion() {
            const answer = prompt("ما اسم أكثر شخص يعشق؟");
            if (answer === "خالد") {
                document.getElementById('backgroundMusic').play(); // تشغيل الموسيقى الخلفية عند بدء اللعبة
                startGame();
            } else {
                alert("جاوبي عدل يمال العافيه");
            }
        }

        function startGame() {
            score = 0;
            money = 0;
            document.getElementById('score').innerText = `النقاط: ${score}`;
            document.getElementById('money').innerText = `الفلوس: ${money}`;
            addFish();
            document.addEventListener('mousemove', moveRod);
            setupShop();
        }

        function moveRod(event) {
            const rect = fishingArea.getBoundingClientRect();
            const rodHeight = rod.offsetHeight;
            const y = event.clientY - rect.top - rodHeight / 2;
            rod.style.bottom = `${Math.max(0, Math.min(rect.height - rodHeight, y))}px`;
        }

        function addFish() {
            const fish = document.createElement('div');
            fish.className = 'fish';
            fish.style.left = Math.random() * (fishingArea.clientWidth - 50) + 'px';
            fish.style.top = Math.random() * (fishingArea.clientHeight - 30) + 'px';

            // تعيين صورة السمكة بشكل عشوائي (يمكن تغييرها)
            const fishType = Math.floor(Math.random() * 5) + 1; // 5 أنواع من الأسماك
            fish.style.backgroundImage = `url('https://example.com/fish${fishType}.png')`; // قم بتغيير هذا الرابط إلى مسار الصور الحقيقي للأسماك

            // تعيين قيمة نقاط عشوائية للأسماك
            const value = Math.floor(Math.random() * 100) + 1;
            fish.dataset.value = value;
            fish.innerText = value; // إظهار قيمة النقاط

            fishingArea.appendChild(fish);

            // إضافة حدث النقر لصيد السمكة
            fish.addEventListener('click', () => {
                document.getElementById('catchSound').play(); // تشغيل صوت الصيد
                score += value;
                if (score >= 500) {
                    money += 50; // زيادة الفلوس عند تحقيق 500 نقطة
                    score -= 500; // خصم 500 نقطة
                }
                document.getElementById('score').innerText = `النقاط: ${score}`;
                document.getElementById('money').innerText = `الفلوس: ${money}`;
                fishingArea.removeChild(fish);
            });

            // تجديد الأسماك بعد 2 ثانية
            setTimeout(() => {
                if (fishingArea.contains(fish)) {
                    fishingArea.removeChild(fish);
                }
            }, 2000); // السمكة تختفي بعد 2 ثانية

            // استدعاء وظيفة إضافة سمكة جديدة
            setTimeout(addFish, 1000);
        }

        function setupShop() {
            shopContainer.innerHTML = ''; // مسح المتجر الحالي
            rodColors.forEach((color, index) => {
                const shopItem = document.createElement('div');
                shopItem.className = 'shop-item';
                shopItem.style.backgroundColor = color;
                shopItem.innerText = `سنارة ${index + 1}`;
                shopItem.onclick = () => buyRod(index + 1, color);
                shopContainer.appendChild(shopItem);
            });
        }

        function buyRod(rodNumber, color) {
            if (money >= 100) { // تعديل السعر إلى 100
                money -= 100; // خصم 100 من المال
                document.getElementById('money').innerText = `الفلوس: ${money}`;
                currentRodColorIndex = rodNumber - 1; // تغيير لون السنارة الحالية
                rod.style.backgroundColor = color; // تحديث لون السنارة
                document.getElementById('purchaseSound').play(); // تشغيل صوت شراء السنارة
                alert(`لقد اشتريت سنارة ${rodNumber} بنجاح!`);
            } else {
                alert('ليس لديك ما يكفي من المال لشراء هذه السنارة.');
            }
        }
    </script>
</body>
</html>