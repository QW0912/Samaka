<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale: 1.0">
    <title>لعبة الصيد</title>
    <style>
        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            text-align: center;
            background-color: #87ceeb; /* لون السماء */
            overflow: hidden;
        }
        #fishingArea {
            width: 600px;
            height: 400px;
            background-color: #00bfff; /* لون البحر الأصلي */
            position: relative;
            margin: auto;
            border: 2px solid #000;
            overflow: hidden;
            animation: waterWave 2s linear infinite; /* إضافة حركة للماء */
            border-radius: 15px; /* زوايا دائرية */
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5); /* ظل للعبة */
        }
        @keyframes waterWave {
            0% { background-position: 0 0; }
            100% { background-position: 100% 0; }
        }
        .fish {
            position: absolute;
            width: 50px;
            height: 30px;
            background-size: cover;
            transition: transform 0.2s;
        }
        .rod {
            position: absolute;
            width: 5px;
            height: 100px;
            background-color: #654321; /* لون السنارة */
            left: 50%;
            bottom: 0;
            transform: translateX(-50%);
        }
        .score {
            font-size: 24px;
            margin-top: 20px;
            color: #fff;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.6); /* ظل للنص */
        }
        .shop {
            margin-top: 20px;
        }
        .shop-item {
            display: inline-block;
            margin: 10px;
            width: 50px;
            height: 50px;
            cursor: pointer;
            border: 2px solid #000;
            border-radius: 8px; /* زوايا دائرية */
            transition: transform 0.3s, box-shadow 0.3s;
        }
        .shop-item:hover {
            transform: scale(1.1); /* تكبير عند التمرير */
            box-shadow: 0 0 15px rgba(0, 255, 0, 0.8); /* تأثير الظل عند التمرير */
        }
        .sound-buttons {
            margin-top: 20px;
        }
        button {
            padding: 10px 20px;
            font-size: 16px;
            margin: 5px;
            cursor: pointer;
            border: none;
            border-radius: 5px; /* زوايا دائرية للأزرار */
            background-color: #ff6347; /* لون خلفية الزر */
            color: white;
            transition: background-color 0.3s, transform 0.3s;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3); /* ظل للأزرار */
        }
        button:hover {
            background-color: #ff4500; /* لون الخلفية عند التمرير */
            transform: scale(1.05); /* تكبير عند التمرير */
        }
    </style>
</head>
<body>
    <h1>لعبة الصيد</h1>
    <h2>لعبة لريومتي وبس</h2>
    <div id="fishingArea">
        <div class="rod" id="rod"></div>
        <!-- الأسماك ستضاف هنا -->
    </div>
    <div class="score" id="score">النقاط: 0</div>
    <div class="score" id="money">الفلوس: 0</div>
    <button onclick="askQuestion()">ابدأ اللعبة</button>

    <div class="sound-buttons">
        <button onclick="toggleSound()">تشغيل/كتم الصوت</button>
    </div>

    <div class="shop">
        <h2>المتجر</h2>
        <div id="shopContainer"></div>
    </div>

    <audio id="catchSound" src="https://www.soundjay.com/human/sounds/catch-1.mp3" preload="auto"></audio>
    <audio id="purchaseSound" src="https://www.soundjay.com/button/sounds/button-1.mp3" preload="auto"></audio>
    <audio id="backgroundMusic" src="https://u.pcloud.link/publink/show?code=XZjIby5ZzX5YT3Bgqm8Q2FlQyvnedyBRMc1k" preload="auto" loop></audio>
    <audio id="clapSound" src="https://www.soundjay.com/human/sounds/applause-8.mp3" preload="auto"></audio>
    <audio id="laughSound" src="https://www.soundjay.com/human/sounds/laugh-4.mp3" preload="auto"></audio>

    <script>
        let score = 0;
        let money = 0;
        let isMuted = false; // حالة كتم الصوت
        const backgroundMusic = document.getElementById('backgroundMusic');

        function askQuestion() {
            const answer = prompt("ما اسم أكثر شخص يعشق؟");
            if (answer === "خالد") {
                startGame();
            } else {
                alert("جاوبي عدل يمال العافيه");
            }
        }

        function startGame() {
            score = 0;
            money = 0;
            document.getElementById('score').innerText = `النقاط: ${score}`;
            document.getElementById('money').innerText = `الفلوس: ${money}`;
            addFish();
            document.addEventListener('mousemove', moveRod);
            setupShop();
            if (!isMuted) {
                backgroundMusic.play(); // تشغيل الموسيقى الخلفية عند بدء اللعبة
            }
        }

        function moveRod(event) {
            const rect = fishingArea.getBoundingClientRect();
            const rodHeight = rod.offsetHeight;
            const y = event.clientY - rect.top - rodHeight / 2;
            rod.style.bottom = `${Math.max(0, Math.min(rect.height - rodHeight, y))}px`;
        }

        function toggleSound() {
            isMuted = !isMuted; // عكس حالة كتم الصوت
            if (isMuted) {
                backgroundMusic.pause(); // كتم الصوت
                alert("تم كتم الصوت");
            } else {
                backgroundMusic.play(); // تشغيل الصوت
                alert("تم تشغيل الصوت");
            }
        }

        function addFish() {
            const fish = document.createElement('div');
            fish.className = 'fish';
            fish.style.left = Math.random() * (fishingArea.clientWidth - 50) + 'px';
            fish.style.top = Math.random() * (fishingArea.clientHeight - 30) + 'px';

            // تعيين صورة السمكة بشكل عشوائي (يمكن تغييرها)
            const fishType = Math.floor(Math.random() * 5) + 1; // 5 أنواع من الأسماك
            fish.style.backgroundImage = `url('https://example.com/fish${fishType}.png')`; // قم بتغيير هذا الرابط إلى مسار الصور الحقيقي للأسماك

            // تعيين قيمة نقاط عشوائية للأسماك
            const value = Math.floor(Math.random() * 100) + 1;
            fish.dataset.value = value;
            fish.innerText = value; // إظهار قيمة النقاط

            fishingArea.appendChild(fish);

            // إضافة حدث النقر لصيد السمكة
            fish.addEventListener('click', () => {
                document.getElementById('catchSound').play(); // تشغيل صوت الصيد
                score += value;
                if (score >= 500) {
                    money += 50; // زيادة الفلوس عند تحقيق 500 نقطة
                    score -= 500; // خصم 500 نقطة
                }
                document.getElementById('score').innerText = `النقاط: ${score}`;
                document.getElementById('money').innerText = `الفلوس: ${money}`;
                fishingArea.removeChild(fish);
            });

            // تجديد الأسماك بعد 2 ثانية
            setTimeout(() => {
                if (fishingArea.contains(fish)) {
                    fishingArea.removeChild(fish);
                }
            }, 2000); // السمكة تختفي بعد 2 ثانية

            // استدعاء وظيفة إضافة سمكة جديدة
            setTimeout(addFish, 1000);
        }

        function setupShop() {
            shopContainer.innerHTML = ''; // مسح المتجر الحالي
            rodColors.forEach((color, index) => {
                const shopItem = document.createElement('div');
                shopItem.className = 'shop-item';
                shopItem.style.backgroundColor = color;
                shopItem.innerText = `سنارة ${index + 1}`;
                shopItem.onclick = () => buyRod(index + 1, color);
                shopContainer.appendChild(shopItem);
            });
        }

        function buyRod(rodNumber, color) {
            if (money >= 100) { // تعديل السعر إلى 100
                money -= 100; // خصم 100 من المال
                document.getElementById('money').innerText = `الفلوس: ${money}`;
                rod.style.backgroundColor = color; // تحديث لون السنارة
                document.getElementById('purchaseSound').play(); // تشغيل صوت شراء السنارة
                alert(`لقد اشتريت سنارة ${rodNumber} بنجاح!`);
            } else {
                alert('ليس لديك ما يكفي من المال لشراء هذه السنارة.');
            }
        }
    </script>
</body>
</html>